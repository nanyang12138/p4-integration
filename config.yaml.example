p4:
  port: your-perforce-server:1666
  user: your_username
  client: your_client_name
  password: ''  # SECURITY: Set via environment variable P4PASSWD
  bin: p4  # or /path/to/p4

workspace_root: /path/to/workspace

exec:
  mode: local  # or 'ssh' for remote execution
  ssh:
    host: remote-host
    user: username
    port: 22
    key_path: ~/.ssh/id_rsa
    password: ''  # SECURITY: Set via P4_INTEG_SSH_PASSWORD or use key_path
    shell: /bin/bash
    login_shell: true
    env_prelude: ''  # Optional: commands to source before running p4
  workspace_root: /remote/path/to/workspace  # Required for SSH mode

p4w_password: ''  # SECURITY: Set via environment variable (for p4push prompts)

defaults:
  source: //depot/source/...
  target: //depot/target/...

blocklist: []  # List of glob patterns or depot paths to block

test_hook:
  command: ''
  args: []

specs:
  example_spec:
    source: //depot/main/...
    target: //depot/branch/...
    description: Example integration spec

submit:
  trial: false  # Set to true for trial mode by default

features:
  advanced_ui: true

logging:
  level: INFO
  file: data/p4_integ.log
  max_bytes: 2097152
  backup_count: 5
  json: false

data_dir: data

# Maximum number of jobs that can be queued (default: 100)
max_queue_size: 100

# Auto-cleanup on error: revert files and delete changelist/shelf when job fails
auto_cleanup_on_error: true

# Environment initialization (customize for your environment)
# Set enabled: false to skip environment initialization scripts
env_init:
  enabled: true  # Set to false to skip environment initialization
  init_script: /proj/verif_release_ro/cbwa_initscript/current/cbwa_init.bash
  bootenv_cmd: bootenv
  name_check_tool: /tool/aticad/1.0/src/perforce/name_check_file_list

# Auto-resolve configuration
# The auto-resolve thread checks jobs in needs_resolve status and auto-continues
# to submit when conflicts are cleared (will not interfere with manual operations)
auto_resolve:
  enabled: true   # Enable automatic resolve checking
  interval: 60    # Check interval in seconds
  auto_submit: true  # Auto-submit when conflicts are cleared (both auto-resolve and manual rescan)

